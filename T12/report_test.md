
# **Применение отладчиков и дизассемблера**

### **1. Что такое отладчик и для чего он используется?**
**Отладчик (debugger)** — это инструмент, позволяющий выполнять программу по шагам, устанавливать точки останова, просматривать значения переменных и анализировать выполнение программы с целью обнаружения и исправления ошибок (багов).  

**Основные цели использования отладчика:**
- Пошаговое выполнение кода
- Просмотр текущих значений переменных
- Установка точек останова
- Анализ стека вызовов
- Поиск логических и других типов ошибок

### **2. В чём разница между отладчиком и дизассемблером?**
| **Отладчик** | **Дизассемблер** |
|--------------|------------------|
| Работает с исходным или машинным кодом во время выполнения программы | Преобразует машинный код в понятный человеку ассемблерный код |
| Используется для поиска и исправления ошибок в процессе выполнения программы | Используется при обратном анализе (reverse engineering), когда исходного кода нет |
| Может управлять потоком выполнения программы (останавливать, продолжать, пошагово выполнять) | Не управляет выполнением, только декодирует машинный код |


### **3. Какие типы ошибок можно найти с помощью отладчика?**
- **Логические ошибки** — неверная последовательность действий, неверные условия.
- **Ошибки выхода за границы массива** (`IndexError`, `ArrayIndexOutOfBoundsException`).
- **Ошибка деления на ноль**.
- **Неверные преобразования типов данных**.
- **Неправильная инициализация переменных**.
- **Ошибки в работе с указателями или ссылками** (`NullPointerException`).
- **Ошибки в циклах** (например, бесконечный цикл или неверное условие завершения).

### **4. Что такое точка останова (breakpoint)?**
**Точка останова (breakpoint)** — это маркер, установленный в определённой строке кода, который при запуске программы в режиме отладки останавливает её выполнение перед выполнением этой строки. Это позволяет:
- Проанализировать текущее состояние программы.
- Посмотреть значения переменных.
- Выполнить дальнейший код пошагово.

---

### **5. Как запустить программу в режиме отладки в Visual Studio?**
1. Откройте проект в Visual Studio.
2. Установите точку останова (щелчок мышью слева от строки кода).
3. Нажмите **F5** или выберите меню **Debug → Start Debugging**.
4. Программа запустится и остановится на первой точке останова.

### **6. Какие основные команды отладчика вы знаете (Step Into, Step Over, Continue)?**

| Команда | Горячая клавиша | Описание |
|--------|------------------|----------|
| **Step Into** | F11 | Переходит внутрь вызова функции/метода |
| **Step Over** | F10 | Выполняет строку, но не заходит внутрь функции |
| **Continue** | F5 | Продолжает выполнение до следующей точки останова |
| **Step Out** | Shift + F11 | Выходит из текущей функции |
| **Break All** | Ctrl + Alt + Break | Останавливает выполнение программы в любой момент |


### **7. Как просмотреть значения переменных во время отладки?**
- **Всплывающие подсказки:** Наведите курсор на переменную в редакторе кода.
- **Окно Locals:** Отображает все переменные в текущей области видимости.
- **Окно Watch:** Можно добавить конкретные переменные или выражения для наблюдения.
- **Immediate Window:** Позволяет вручную вводить выражения и сразу получать результат.

### **8. Что такое Watch-окно в отладчике? Как его использовать?**
**Watch-окно (Watch window)** — это инструмент отладчика, позволяющий отслеживать значения определённых переменных или выражений в реальном времени.  

**Как использовать:**
1. Добавьте переменную в окно Watch (правый клик → "Add Watch").
2. Следите за изменениями значения во время выполнения программы.
3. Полезно для анализа сложных объектов, коллекций или выражений.

### **9. Как отладить программу, если она падает без сообщения об ошибке?**
- Запустите программу в режиме отладки (**Debug**).
- Включите **Exception Settings** (в VS: Debug → Windows → Exception Settings).
- Программа остановится на строке, где произошло исключение, даже если оно не обработано.
- Также можно использовать **логирование**, чтобы отследить последовательность выполнения.

### **10. Что такое дизассемблер и какие задачи он решает?**
**Дизассемблер** — программа, которая преобразует машинный код (бинарный исполняемый файл) в мнемоники ассемблера, которые легче понять человеку.

**Задачи дизассемблера:**
- Обратная инженерия программ (reverse engineering)
- Анализ вредоносного ПО
- Поиск скрытых функций или паролей в программе
- Изучение работы библиотек без доступа к исходному коду
- Восстановление алгоритмов при отсутствии документации

### **11. Какие популярные дизассемблеры вы знаете?**
- **Ghidra** — от Google, открытый исходный код, мощные возможности анализа.
- **IDA Pro** — коммерческий инструмент, один из самых популярных в reverse engineering.
- **radare2** — open-source фреймворк для анализа и дизассемблирования.
- **Binary Ninja** — удобный интерфейс, поддерживает автоматический анализ.
- **Cutter** — графическая оболочка над radare2.

### **12. Как найти функцию `main` в дизассемблированной программе?**
1. Используйте сигнатуры стандартных функций.
2. В Ghidra: ищите символ `_start`, затем переходите к `main`.
3. В IDA Pro: откройте список экспортированных символов и ищите `main`.
4. Если имя было удалено, используйте эвристический анализ и проверьте, где начинается основной поток программы.

### **13. Как дизассемблер помогает найти проверку пароля в программе?**
- Ищутся вызовы строковых функций (`strcmp`, `strncmp`, `memcmp`) или пользовательских функций проверки.
- Анализируются строки в памяти на наличие подозрительных текстов ("password", "login" и т.п.).
- Строятся графы вызовов, чтобы найти блоки кода, в которых происходит сравнение введённого пароля с эталонным.

### **14. Как определить, какие библиотеки использует программа?**
- В Ghidra: смотрите раздел "External Symbols" или "Imports".
- В IDA Pro: откройте вкладку "Imports".
- С помощью утилит командной строки:
  - **`ldd`** (Linux)
  - **`Dependency Walker`** (Windows)
  - **`objdump` / `readelf`** (Linux)
  - **`strings`** может показать зависимости через строки

### **15. Как с помощью отладчика найти ошибку "деление на ноль"?**
1. Запустите программу в режиме отладки.
2. Активируйте **Exception Settings** и включите исключения типа **Division by Zero**.
3. При возникновении ошибки отладчик остановится на соответствующей строке.
4. Проверьте значение делителя перед операцией деления.

### **16. Как восстановить алгоритм программы, если у вас нет исходного кода?**
1. Дизассемблируйте программу (например, в Ghidra).
2. Идентифицируйте ключевые функции и участки кода.
3. Перепишите псевдокод, используя декомпилятор Ghidra или IDA Pro.
4. Выполняйте динамический анализ в отладчике, чтобы понять, как меняются данные.
5. Сравнивайте поведение с известными алгоритмами (шифрование, хэширование и т.д.).

### **17. Как найти ключевые функции в дизассемблированной программе?**
- Ищите вызовы системных функций (`malloc`, `printf`, `socket`, `CreateFile` и т.д.)
- Анализируйте граф вызовов (`Call Graph`)
- Используйте сигнатуры известных библиотек.
- Смотрите строки в памяти и их использование.
- Фильтруйте функции по размеру, количеству вызовов, сложности.

### **18. Как определить, использует ли программа шифрование?**
- Ищите вызовы известных криптографических библиотек (`OpenSSL`, `Crypto++`, `Microsoft CAPI`).
- Анализируйте строки на наличие терминов: `"AES"`, `"RSA"`, `"SHA"`, `"MD5"` и т.д.
- Обнаружение констант или таблиц, характерных для алгоритмов шифрования.
- Наличие длинных случайных данных, XOR-операций, вызовов функций типа `encrypt()`, `decrypt()`.

### **19. Как проанализировать вредоносное ПО с помощью дизассемблера?**
1. Запустите анализ в песочнице (sandbox) или изолированной среде.
2. Дизассемблируйте файл в Ghidra или IDA Pro.
3. Найдите точку входа и исследуйте начальный код.
4. Ищите сетевые вызовы, работу с файлами, создание процессов.
5. Определите, есть ли связи с внешними серверами, загрузчики, полиморфные части.
6. Используйте отладчик для динамического анализа.

### **20. В чём разница между статическим и динамическим анализом?**

| **Статический анализ** | **Динамический анализ** |
|------------------------|--------------------------|
| Выполняется без запуска программы | Выполняется во время выполнения программы |
| Исследуется исходный или машинный код | Анализируется поведение программы в реальном времени |
| Подходит для поиска потенциальных уязвимостей | Позволяет находить ошибки, возникающие только при определённых условиях |
| Инструменты: Ghidra, IDA Pro, linters | Инструменты: отладчики, Wireshark, Process Monitor |

### **21. Какие этические аспекты нужно учитывать при работе с дизассемблерами и отладчиками?**
- **Авторские права:** Анализ ПО без разрешения владельца может быть незаконным.
- **Обратная инженерия:** Разрешена только в законных целях: безопасность, совместимость, обучение.
- **Конфиденциальность:** Не следует раскрывать найденные уязвимости без согласия владельца.
- **Использование в злонамеренных целях:** Запрещено создавать вредоносное ПО на основе обратной инженерии.
- **Этика исследования:** При анализе ПО всегда соблюдайте закон и этические нормы.
